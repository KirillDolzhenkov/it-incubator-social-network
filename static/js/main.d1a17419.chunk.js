(this["webpackJsonpnew-social-network-01"]=this["webpackJsonpnew-social-network-01"]||[]).push([[0],{10:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__3dxlX",dialogsItems:"Dialogs_dialogsItems__3dCbY",active:"Dialogs_active__1jlfK",messages:"Dialogs_messages__2v1Zz",message:"Dialogs_message__3NGPx"}},27:function(e,t,s){e.exports={selectedPage:"Users_selectedPage__1mZri",items:"Users_items__302Bp"}},28:function(e,t,s){e.exports={postBlock:"ContentArea_postBlock__1FZxZ",posts:"ContentArea_posts__2YdVD"}},40:function(e,t,s){e.exports={items:"Post_items__7cdgf"}},41:function(e,t,s){e.exports={descriptionBlock:"Profile_descriptionBlock__15JQ-"}},46:function(e,t,s){},47:function(e,t,s){},5:function(e,t,s){e.exports={nav:"Navbar_nav__38ETH",item:"Navbar_item__3vuXe",active:"Navbar_active__pCbfH"}},72:function(e,t,s){},73:function(e,t,s){"use strict";s.r(t),s.d(t,"renderEntireTree",(function(){return fe}));var n=s(1),a=s.n(n),c=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,74)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))},r=s(16),i=s.n(r),o=(s(46),s(3)),l=(s(47),s.p+"static/media/logo_transparent_03.230df42a.png"),u=s.p+"static/media/logo_transparent_02.7aafc755.png",j=s(0),d=function(e){return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("img",{src:l}),Object(j.jsx)("img",{src:u})]})},g=s(5),p=s.n(g),b=s(4),O=function(e){return Object(j.jsxs)("nav",{className:p.a.nav,children:[Object(j.jsx)("div",{className:p.a.item,children:Object(j.jsx)(b.b,{to:"/profile",activeClassName:p.a.active,children:"Profile"})}),Object(j.jsx)("div",{className:p.a.item,children:Object(j.jsx)(b.b,{to:"/dialogs",activeClassName:p.a.active,children:"Messages"})}),Object(j.jsx)("div",{className:p.a.item,children:Object(j.jsx)(b.b,{to:"/Users",activeClassName:p.a.active,children:"Users"})}),Object(j.jsx)("div",{className:p.a.item,children:Object(j.jsx)(b.b,{to:"/news",activeClassName:p.a.active,children:"News"})}),Object(j.jsx)("div",{className:p.a.item,children:Object(j.jsx)(b.b,{to:"/music",activeClassName:p.a.active,children:"Music"})}),Object(j.jsx)("div",{className:p.a.item,children:Object(j.jsx)(b.b,{to:"/settings",activeClassName:p.a.active,children:"Settings"})})]})},h=function(e){return Object(j.jsx)("div",{children:"News"})},f=function(e){return Object(j.jsx)("div",{children:"Music"})},x=function(e){return Object(j.jsx)("div",{children:"Settings"})},m=s(10),v=s.n(m),P=function(e){return Object(j.jsx)("div",{className:v.a.message,children:e.messageText})},w=function(e){return Object(j.jsx)("div",{className:v.a.dialog,children:Object(j.jsx)(b.b,{to:"/dialogs/"+e.id,children:e.name})})},_=s(12),T=s(2),C="ADD-MESSAGE",N="CHANGE-MESSAGE-TEXT",k={dialogs:[{id:1,name:"Dima"},{id:2,name:"Sasha"}],messages:[{id:1,message:"hello"},{id:2,message:"How are you?"}],newMessageText:""},y=s(9),S=Object(y.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{updateNewMessageText:function(t){e({type:N,newDialogText:t})},addMessage:function(t){e({type:C,newMessageText:t})}}}))((function(e){var t=e.dialogsPage.dialogs.map((function(e){return Object(j.jsx)(w,{id:e.id,name:e.name},e.id)})),s=e.dialogsPage.messages.map((function(e){return Object(j.jsx)(P,{messageText:e.message},e.id)})),n=function(){e.dialogsPage.newMessageText&&e.addMessage(e.dialogsPage.newMessageText.trim())};return Object(j.jsxs)("div",{className:v.a.dialogs,children:[Object(j.jsx)("div",{className:v.a.dialogsItems,children:t}),Object(j.jsxs)("div",{className:v.a.messages,children:[s,Object(j.jsx)("hr",{}),Object(j.jsx)("div",{children:Object(j.jsx)("textarea",{value:e.dialogsPage.newMessageText,onChange:function(t){e.updateNewMessageText(t.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),n())},placeholder:"Write something"})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:n,children:"Send"})})]})]})})),U=s(18),E=s(19),F=s(21),M=s(20),I="FOLLOW",D="UNFOLLOW",G="SET_USERS",A="SET_CURRENT_PAGE",L="SET_TOTAL_USERS_COUNT",B="TOGGLE_IS_FETCHING",z={users:[],pageSize:5,totalUserCount:0,currentPage:1,isFetching:!1},H=s(27),R=s.n(H),V=function(e){for(var t=Math.ceil(e.usersPage.totalUserCount/e.usersPage.pageSize),s=[],n=1;n<=t;n++)s.push(n);return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{children:"\xab prev"}),s.map((function(t){return Object(j.jsxs)("span",{onClick:function(){e.onPageGanged(t)},className:t===e.usersPage.currentPage?R.a.selectedPage:"",children:[" | ",t," | "]})})).slice(0,7),Object(j.jsx)("button",{children:"next  \xbb"}),e.usersPage.users.map((function(t){return Object(j.jsxs)("div",{children:[Object(j.jsx)(b.b,{to:"/profile/"+t.id,children:Object(j.jsx)("div",{className:R.a.items,children:Object(j.jsx)("img",{src:"https://cdn4.iconfinder.com/data/icons/spring-festival/512/man-512.png"})})}),Object(j.jsx)("div",{children:t.followed?Object(j.jsx)("button",{onClick:function(){e.unfollow(t.id)},children:"unfollow"}):Object(j.jsx)("button",{onClick:function(){e.follow(t.id)},children:"follow"})}),Object(j.jsxs)("span",{children:[Object(j.jsx)("div",{children:t.name}),Object(j.jsx)("div",{children:t.status})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("div",{children:"u.location.country"}),Object(j.jsx)("div",{children:"u.location.city"})]}),Object(j.jsx)("hr",{})]},t.id)}))]})},W=s(15),X=s.n(W),Z=(s(72),s.p+"static/media/preloaderLogo.400bb8f2.png"),J=function(e){return Object(j.jsx)("div",{className:"Preloader",children:Object(j.jsxs)("header",{className:"Preloader-header",children:[Object(j.jsx)("img",{src:Z,className:"Preloader-logo",alt:"logo"}),Object(j.jsx)("br",{})]})})},K=function(e){Object(F.a)(s,e);var t=Object(M.a)(s);function s(){var e;Object(U.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onPageGanged=function(t){e.props.toggleIsFetching(!0),e.props.setCurrentPage(t),X.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.usersPage.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items)}))},e}return Object(E.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),X.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.usersPage.currentPage,"&count=").concat(this.props.usersPage.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:this.props.isFetching?Object(j.jsx)(J,{}):Object(j.jsx)(V,{follow:this.props.follow,unfollow:this.props.unfollow,setUsers:this.props.setUsers,usersPage:this.props.usersPage,setCurrentPage:this.props.setCurrentPage,setTotalUsersCount:this.props.setTotalUsersCount,onPageGanged:this.onPageGanged,toggleIsFetching:this.props.toggleIsFetching})})}}]),s}(a.a.Component),Y=Object(y.b)((function(e){return{usersPage:e.usersPage,pageSize:e.usersPage.pageSize,totalUserCount:e.usersPage.totalUserCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),{follow:function(e){return{type:I,userId:e}},unfollow:function(e){return{type:D,userId:e}},setUsers:function(e){return{type:G,users:e}},setCurrentPage:function(e){return{type:A,pageValue:e}},setTotalUsersCount:function(e){return{type:L,countValue:e}},toggleIsFetching:function(e){return{type:B,isFetching:e}}})(K),Q=s(40),q=s.n(Q),$=function(e){return Object(j.jsxs)("div",{className:q.a.items,children:[Object(j.jsx)("img",{src:"https://cdn4.iconfinder.com/data/icons/spring-festival/512/man-512.png"}),Object(j.jsx)("span",{children:e.message}),Object(j.jsx)("br",{}),Object(j.jsxs)("span",{children:["\u2665",e.likesCount]})]})},ee=s(28),te=s.n(ee),se="ADD-POST",ne="CHANGE-POST-TEXT",ae="SET_USER_PROFILE",ce={posts:[{id:1,messages:"Hello",likesCount:12},{id:2,messages:"Wats up",likesCount:13}],newPostText:"",profile:null},re=Object(y.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{updateNewPostText:function(t){e({type:ne,newPostText:t})},addPost:function(t){e({type:se,newPostText:t})}}}))((function(e){var t=e.profilePage.posts.map((function(e){return Object(j.jsx)($,{message:e.messages,likesCount:e.likesCount},e.id)})),s=function(){e.profilePage.newPostText&&e.addPost(e.profilePage.newPostText.trim())};return Object(j.jsxs)("div",{className:te.a.postBlock,children:[Object(j.jsx)("h3",{children:"My posts"}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{children:Object(j.jsx)("textarea",{value:e.profilePage.newPostText,onChange:function(t){e.updateNewPostText(t.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),s())},placeholder:"Write something"})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:s,children:"Send"})}),Object(j.jsx)("div",{className:te.a.posts,children:t})]})})),ie=s(41),oe=s.n(ie),le=function(e){var t;return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:"https://i.redd.it/om4a8r7glhx21.png"})}),Object(j.jsxs)("div",{className:oe.a.descriptionBlock,children:[Object(j.jsx)("img",{src:null===(t=e.profile)||void 0===t?void 0:t.photos.large}),"avatar+description"]})]})},ue=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(le,{profile:e.profile}),Object(j.jsx)(re,{})]})},je=function(e){Object(F.a)(s,e);var t=Object(M.a)(s);function s(){return Object(U.a)(this,s),t.apply(this,arguments)}return Object(E.a)(s,[{key:"componentDidMount",value:function(){var e=this;X.a.get("https://social-network.samuraijs.com/api/1.0/profile/2").then((function(t){e.props.setUserProfile(t.data.items)}))}},{key:"render",value:function(){return Object(j.jsx)("div",{children:this.props.profile?Object(j.jsx)(J,{}):Object(j.jsx)(ue,Object(T.a)(Object(T.a)({},this.props),{},{profile:this.props.profile}))})}}]),s}(a.a.Component),de=Object(y.b)((function(e){return{profile:e.profilePage.profile}}),{setUserProfile:function(e){return{type:ae,profile:e}}})(je),ge=function(e){return Object(j.jsxs)("div",{className:"app-wrapper",children:[Object(j.jsx)(d,{}),Object(j.jsx)(O,{}),Object(j.jsxs)("div",{className:"app-wrapper-content",children:[Object(j.jsx)(o.a,{path:"/profile",render:function(){return Object(j.jsx)(de,{})}}),Object(j.jsx)(o.a,{path:"/dialogs",render:function(){return Object(j.jsx)(S,{})}}),Object(j.jsx)(o.a,{path:"/users",render:function(){return Object(j.jsx)(Y,{})}}),Object(j.jsx)(o.a,{path:"/news",render:function(){return Object(j.jsx)(h,{})}}),Object(j.jsx)(o.a,{path:"/music",render:function(){return Object(j.jsx)(f,{})}}),Object(j.jsx)(o.a,{path:"/settings",render:function(){return Object(j.jsx)(x,{})}})]})]})},pe=s(14),be={},Oe=Object(pe.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(T.a)(Object(T.a)({},e),{},{newPostText:t.newPostText});case se:var s=e.newPostText;return Object(T.a)(Object(T.a)({},e),{},{posts:[{id:3,messages:s,likesCount:0}].concat(Object(_.a)(e.posts)),newPostText:""});case ae:return Object(T.a)(Object(T.a)({},e),{},{profile:t.profile});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(T.a)(Object(T.a)({},e),{},{newMessageText:t.newDialogText});case C:var s=e.newMessageText;return Object(T.a)(Object(T.a)({},e),{},{messages:[].concat(Object(_.a)(e.messages),[{id:3,message:s}]),newMessageText:""});default:return e}},sidebarPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(T.a)(Object(T.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(T.a)(Object(T.a)({},e),{},{followed:!0}):e}))});case D:return Object(T.a)(Object(T.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(T.a)(Object(T.a)({},e),{},{followed:!1}):e}))});case G:return Object(T.a)(Object(T.a)({},e),{},{users:Object(_.a)(t.users)});case A:return Object(T.a)(Object(T.a)({},e),{},{currentPage:t.pageValue});case L:return Object(T.a)(Object(T.a)({},e),{},{totalUserCount:t.countValue});case B:return Object(T.a)(Object(T.a)({},e),{},{isFetching:t.isFetching});default:return e}}}),he=Object(pe.c)(Oe),fe=function(){i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(b.a,{children:Object(j.jsx)(y.a,{store:he,children:Object(j.jsx)(ge,{})})})}),document.getElementById("root"))};fe(),c()}},[[73,1,2]]]);
//# sourceMappingURL=main.d1a17419.chunk.js.map